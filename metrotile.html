<!DOCTYPE html>
<html>
<head>
	<title>MetroJS Tiles</title>
	<link rel="stylesheet" type="text/css" href="metrojs.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
	<script type="text/javascript" src="metrojs.js"></script>
	<script type="text/javascript">
				function TileAction()
				{
					othis = this;
					this.count = 1;
					this.addTile = function(){
						//get the parent tile div
						othis.tilediv = document.getElementById("tiles cobalt");
						othis.div = document.createElement("div");
						var attrList = ["live-tile","live-tile emerald","live-tile mango","live-tile blue","live-tile pink"];
						//create the outer div
						if(othis.count%6 == 1)
							othis.div.setAttribute("class",attrList[0]);
						else if(othis.count%6 == 2)
							othis.div.setAttribute("class",attrList[1]);
						else if(othis.count%6 == 3)
							othis.div.setAttribute("class",attrList[2]);
						else if(othis.count%6 == 3)
							othis.div.setAttribute("class",attrList[3]);
						else if(othis.count%6 == 4)
							othis.div.setAttribute("class",attrList[4]);
						else if(othis.count%6 == 5)
							othis.div.setAttribute("class",attrList[0]);
						else
							othis.div.setAttribute("class",attrList[1]);

						othis.div.setAttribute("data-mode","flip");
						othis.div.setAttribute("data-initdelay","500");
						
						//create the front div
						othis.fdiv = document.createElement("div");
						var p = document.createElement("p");
						var a = document.createElement("a");
						a.setAttribute("class","metroLarger");
						a.href = "#";
						a.innerHTML = "front "+othis.count;
						span = document.createElement("span");
						span.setAttribute("class","tile-title");
						span.innerHTML = "front title";
						p.appendChild(a);
						othis.fdiv.appendChild(p);
						othis.fdiv.appendChild(span);

						//create the back div
						othis.bdiv = document.createElement("div");
						var p = document.createElement("p");
						var a = document.createElement("a");
						a.setAttribute("class","metroLarger");
						a.href = "#";
						a.innerHTML = "back "+othis.count;
						span = document.createElement("span");
						span.setAttribute("class","tile-title");
						span.innerHTML = "back title";
						p.appendChild(a);
						othis.bdiv.appendChild(p);
						othis.bdiv.appendChild(span);

						//append inner divs to child
						othis.div.appendChild(othis.fdiv);
						othis.div.appendChild(othis.bdiv);

						//append created div to tile div
						othis.tilediv.appendChild(othis.div);
						this.count++;
						//call animate
						othis.animate();
					};


					this.animate = function(){
						$(".live-tile").liveTile();
					// jQuery UI 
					// http://jqueryui.com/sortable/#display-grid
						$( ".tiles" ).sortable();
						$( ".tiles" ).disableSelection();
					};
				}
				var obj = new TileAction();
	</script>
</head>
<body>
			<h1>Draggable tiles</h1>
			<button onclick="obj.addTile()">Add Tiles</button>
			<div class="tiles cobalt" id="tiles cobalt">
				    
				    
			</div>
			<script type="text/javascript">
						//using data attributes
					$(".live-tile").liveTile();
					// jQuery UI 
					// http://jqueryui.com/sortable/#display-grid
					$( ".tiles" ).sortable();
					$( ".tiles" ).disableSelection();
					

			</script>
</body>
</html>