<!DOCTYPE html>
<html>
<head>
	<title>MetroJS Tiles</title>
	<link rel="stylesheet" type="text/css" href="css/metrojs.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
	<script type="text/javascript" src="js/MetroJs.js"></script>
	<script src="http://js.nicedit.com/nicEdit-latest.js" type="text/javascript"></script>
	<script type="text/javascript">bkLib.onDomLoaded(nicEditors.allTextAreas);</script>
	<script type="text/javascript">

		function init()
		{
		document.body.style.backgroundImage = "url('images/bg1.png')";
		p = document.getElementById("p");
		p.style.position="absolute";
		p.style.width = window.innerWidth/2+"px";	
		}
		function TileAction()
		{
			othis = this;
			this.count = 1;
			this.addTile = function()
			{
			//get the parent tile div
			othis.tilediv = document.getElementById("tiles cobalt");
			othis.tilediv.style.position = "absolute";
			othis.tilediv.style.left = window.innerWidth/2+10+"px";
			othis.tilediv.style.width = window.innerWidth/2+"px";
			
	var attrList = ["live-tile emerald","live-tile mango","live-tile two-wide","live-tile two-wide two-tall pink","live-tile blue","live-tile yellow","live-tile brown","live-tile lime","live-tile two-wide steel","live-tile black","live-tile red"];
			
			for(i=0;i<attrList.length;i++)
			{
			othis.div = document.createElement("div");
			othis.div.id = "tile"+this.count;
			othis.div.setAttribute("class",attrList[i]);
			
			//create the outer div		
			othis.div.setAttribute("data-mode","flip");
			othis.div.setAttribute("data-initdelay","500");
			

			//create the front div
			othis.fdiv = document.createElement("div");
			var p = document.createElement("p");
			var a = document.createElement("a");
			a.setAttribute("class","metroLarger");
			a.href = "#";
			a.innerHTML = "front "+othis.count;
			span = document.createElement("span");
			span.setAttribute("class","tile-title");
			span.innerHTML = "front title";
			p.appendChild(a);
			othis.fdiv.appendChild(p);
			othis.fdiv.appendChild(span);

			//create the back div
			othis.bdiv = document.createElement("div");
			var p = document.createElement("p");
			var a = document.createElement("a");
			a.setAttribute("class","metroLarger");
			a.href = "#";
			a.innerHTML = "back "+othis.count;
			span = document.createElement("span");
			span.setAttribute("class","tile-title");
			span.innerHTML = othis.div.id;
			p.appendChild(a);
			othis.bdiv.appendChild(p);
			othis.bdiv.appendChild(span);
			
			othis.div.appendChild(othis.fdiv);
			othis.div.appendChild(othis.bdiv);
			
		
			//append created div to tile div
			othis.tilediv.appendChild(othis.div);
			this.count++;
		
			//call animate
			othis.animate();


			}

			
		};


			this.animate = function(){
				$(".live-tile").liveTile();
			// jQuery UI 
			// http://jqueryui.com/sortable/#display-grid
				$( ".tiles" ).sortable();
				$( ".tiles" ).disableSelection();
			};
		}
		var obj = new TileAction();
	</script>
	<style type="text/css">
		#p
		{
			background-color: #00BCDD;
			height: 100%;
		}
		textarea
		{
			height: 100%;
			width: 100%;
		}
	</style>
</head>
<body onload="init()">
	<div id="p">
		<textarea id="ta" style="position:absolute;width:100%;"><button onclick="obj.addTile()">Add Tiles</button>Take boring textareas like this one in your application</textarea>	
	</div>

	<div class="tiles cobalt" id="tiles cobalt">
		    
		    
	</div>
	<script type="text/javascript">
	//using data attributes
	$(".live-tile").liveTile();
	// jQuery UI 
	// http://jqueryui.com/sortable/#display-grid
	$( ".tiles" ).sortable();
	$( ".tiles" ).disableSelection();	
	</script>
</body>
</html>